You are an expert in TypeScript, Node.js, Next.js App Router, Medusa.js, TailwindCSS, Shadcn UI, and e-commerce backend systems.

---

Always remember:
- Keep frontend and backend concerns separate
- Use `.spec.ts` for tests (optional in `__tests__` folders)
- Write clean, testable logic with real-world business use in mind
IMPORTANT!! Keep the frotend in wasgeurtje-store\frontend (Dont make duplicate frontend) !!
---

## Code Style and Structure

- âœ… Use functional + declarative patterns; **avoid classes**
- âœ… Prefer composition over inheritance
- âœ… Use **async/await**, never `.then()`
- âœ… Use `export const` instead of `default export` for clarity
- âœ… Use **TailwindCSS utility classes** for layout and style
- âœ… Group related business logic in services/hooks/utils folders
- âœ… Pages = routing only â†’ use components/hooks inside

---

## File Structure (Next.js App Router)

- `app/` â†’ routes & pages
- `components/` â†’ shared UI elements (small + reusable)
- `sections/` â†’ larger page blocks (e.g., Hero, Features)
- `lib/` â†’ helpers/utils
- `types/` â†’ TypeScript types only
- `hooks/` â†’ custom React hooks
- `store/` â†’ Zustand or context state management
- `services/` â†’ Medusa API calls or backend logic

---

## Naming Conventions

- ğŸ”  Use **kebab-case** for folders: `product-list`, `order-summary`
- ğŸ§© Use **PascalCase** for React components: `OrderSummary.tsx`
- âš™ï¸ Use `useCamelCase` for hooks: `useCart`, `useFragrances`

---

## Backend Rules (Medusa.js)

- ğŸ§  Use `services/` folder to organize logic per domain
- ğŸ§¾ Always validate input using `class-validator` or DTOs
- ğŸ” Secure routes and API logic based on customer/admin scope
- ğŸŒ¿ Use decorators like `@Entity`, `@Column`, `@BeforeInsert`
- ğŸ” Use repositories to handle DB logic, not inside services directly

---

## AdminJS Integration Lessons

- âš ï¸ Avoid mixing `.ts` and `.js` files in the `src/api` directory to prevent Babel compilation issues
- ğŸ“¦ Use compatible AdminJS versions (adminjs@6.8.7, @adminjs/express@5.1.0, @adminjs/sql@1.0.0) for CommonJS projects 
- ğŸ”„ Add `"type": "commonjs"` to package.json to ensure Node.js treats files correctly
- ğŸ”Œ Use `@adminjs/sql` adapter instead of `@adminjs/typeorm` for better compatibility
- ğŸ”’ Set up authentication with environment variables (ADMIN_EMAIL, ADMIN_PASSWORD, ADMINJS_COOKIE_SECRET)

---

## Tailwind Rules

- Always use utility classes
- Avoid global CSS unless for tokens or resets
- Use `@apply` only in component-specific styling

---

## Cursor Use Guidelines

- Break complex logic into small, readable functions
- Avoid repeating yourself â€” if two components do similar things, extract shared logic
- Always keep long-running processes async
- For Medusa backend: use services instead of directly modifying repositories in routes
- For frontend: use `.env.local` to connect to backend, never hardcode URLs

## File directory
wasgeurtje/
â”‚
â”œâ”€â”€ wasgeurtje-store/
â”‚   â”œâ”€â”€ frontend/
â”‚   â”‚   â”œâ”€â”€ app/                     # Next.js App Router (zonder src/)
â”‚   â”‚   â”‚   â”œâ”€â”€ (shop)/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ page.tsx
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ producten/
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ page.tsx
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ [handle]/
â”‚   â”‚   â”‚   â”‚   â”‚       â””â”€â”€ page.tsx
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ geuren/
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ page.tsx
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ collecties/
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ page.tsx
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ [handle]/
â”‚   â”‚   â”‚   â”‚   â”‚       â””â”€â”€ page.tsx
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ winkelwagen/
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ page.tsx
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ afrekenen/
â”‚   â”‚   â”‚   â”‚       â””â”€â”€ page.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ api/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ webhooks/
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ proxy/
â”‚   â”‚   â”‚   â”œâ”€â”€ layout.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ globals.css
â”‚   â”‚   â”‚   â””â”€â”€ favicon.ico
â”‚   â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”‚   â”œâ”€â”€ layout/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ Header.tsx
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ Footer.tsx
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ MobileNav.tsx
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ CountrySelector.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ product/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ProductCard.tsx
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ProductGrid.tsx
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ProductDetail.tsx
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ VariantSelector.tsx
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ FragranceIcon.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ cart/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ CartItem.tsx
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ CartSummary.tsx
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ AddToCartButton.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ checkout/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ CheckoutForm.tsx
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ShippingOptions.tsx
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ PaymentForm.tsx
â”‚   â”‚   â”‚   â””â”€â”€ ui/
â”‚   â”‚   â”‚       â”œâ”€â”€ Button.tsx
â”‚   â”‚   â”‚       â”œâ”€â”€ Input.tsx
â”‚   â”‚   â”‚       â”œâ”€â”€ Badge.tsx
â”‚   â”‚   â”‚       â””â”€â”€ Select.tsx
â”‚   â”‚   â”œâ”€â”€ lib/
â”‚   â”‚   â”‚   â”œâ”€â”€ medusa/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ client.ts
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ hooks.ts
â”‚   â”‚   â”‚   â””â”€â”€ utils/
â”‚   â”‚   â”‚       â”œâ”€â”€ price.ts
â”‚   â”‚   â”‚       â””â”€â”€ seo.ts
â”‚   â”‚   â”œâ”€â”€ providers/
â”‚   â”‚   â”‚   â”œâ”€â”€ cart.tsx
â”‚   â”‚   â”‚   â””â”€â”€ locale.tsx
â”‚   â”‚   â”œâ”€â”€ hooks/
â”‚   â”‚   â”‚   â””â”€â”€ useCart.ts
â”‚   â”‚   â”œâ”€â”€ types/
â”‚   â”‚   â”‚   â”œâ”€â”€ medusa.ts
â”‚   â”‚   â”‚   â””â”€â”€ product.ts
â”‚   â”‚   â””â”€â”€ public/
â”‚   â”‚       â”œâ”€â”€ images/
â”‚   â”‚       â””â”€â”€ locales/
â”‚
â”œâ”€â”€ backend/                        # Medusa.js backend (nu in root)
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ api/
â”‚   â”‚   â”‚   â””â”€â”€ webhooks.ts
â”‚   â”‚   â”œâ”€â”€ services/
â”‚   â”‚   â”‚   â”œâ”€â”€ fragrance.ts
â”‚   â”‚   â”‚   â””â”€â”€ loyalty.ts
â”‚   â”‚   â”œâ”€â”€ subscribers/
â”‚   â”‚   â”‚   â””â”€â”€ order.ts
â”‚   â”‚   â””â”€â”€ models/
â”‚   â”‚       â””â”€â”€ fragrance.ts
â”‚   â”œâ”€â”€ medusa-config.js
â”‚   â””â”€â”€ seed/
â”‚
â”œâ”€â”€ .cursorrule
â”œâ”€â”€ .cursorrule.bak
â””â”€â”€ .git/